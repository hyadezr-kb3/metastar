import{P as k,S as C,j as e}from"./index-e2TyZGha.js";import{a as g}from"./ui-BqWFczew.js";import{R,a as P}from"./engine-DOpU4D4P.js";import"./vendor-Dh3zDKDA.js";import"./lunar-C8YQgFCV.js";const G=""+new URL("onewhite-Cam6tN-s.PNG",import.meta.url).href,L=""+new URL("twoblack-CczcJgpx.PNG",import.meta.url).href,U=""+new URL("threegreen-UT8MHpiu.PNG",import.meta.url).href,S=""+new URL("fourgreen-BJl9Blh5.PNG",import.meta.url).href,M=""+new URL("fiveyellow-BGeXE8Do.PNG",import.meta.url).href,T=""+new URL("sixwhite-CMeT2hlJ.PNG",import.meta.url).href,B=""+new URL("sevengold-UDUuul5p.PNG",import.meta.url).href,$=""+new URL("eightwhite-CVPqDfqH.PNG",import.meta.url).href,O=""+new URL("ninepurple-yM34FNU6.PNG",import.meta.url).href,z=""+new URL("shuipor-C3qJdIXs.PNG",import.meta.url).href,A=""+new URL("threekill-kC8rSqqE.PNG",import.meta.url).href,E=""+new URL("yeargod-CoT4VTd9.PNG",import.meta.url).href,b={1:G,2:L,3:U,4:S,5:M,6:T,7:B,8:$,9:O},q=({cell:s,afflictions:c,selectedCell:x,setSelectedCell:r,roomAssignments:t,handleRoomChange:m})=>{const a=k.find(l=>l.key===s.k),o=C[s.s],n={é‡‘:"bg-gray-100",æœ¨:"bg-green-50",æ°´:"bg-blue-50",ç«:"bg-red-50",åœŸ:"bg-amber-50"},i={é‡‘:"text-yellow-600",æœ¨:"text-green-700",æ°´:"text-blue-700",ç«:"text-red-600",åœŸ:"text-amber-800"},h=t[s.k]||"(æœªé¸æ“‡)",d=[];return c.taiSui===s.k&&d.push({key:"taisui",src:E,name:"å¤ªæ­²"}),c.suiPo===s.k&&d.push({key:"suipo",src:z,name:"æ­²ç ´"}),c.sanSha===s.k&&d.push({key:"sansha",src:A,name:"ä¸‰ç…ž"}),e.jsxs("div",{onClick:()=>r({...s,p:a,s:o}),className:`relative flex flex-col items-center p-1 rounded-xl border-2 cursor-pointer transition-all active:scale-95 shadow-sm ${x?.k===s.k?"border-amber-600 ring-2 ring-amber-100 z-10":"border-stone-100 hover:border-amber-200"} h-32 w-full overflow-hidden ${n[a.element]||"bg-white"} bg-opacity-60`,children:[e.jsxs("div",{className:"absolute top-1 left-2 text-[10px] font-bold text-stone-400 opacity-80",children:[a.name,"ãƒ»",a.trigram,"(",a.element,")"]}),e.jsx("div",{className:"absolute top-8 flex justify-center items-center w-full h-12 pointer-events-none",children:b[s.s]?e.jsx("img",{src:b[s.s],alt:o.name,className:"h-[85%] w-auto object-contain drop-shadow-sm"}):e.jsx("div",{className:`text-2xl font-black tracking-wide ${i[o.element]}`,children:o.name})}),e.jsx("div",{className:"absolute top-[4.6rem] flex gap-1 justify-center w-full px-1",children:d.map((l,p)=>e.jsx("img",{src:l.src,alt:l.name,className:"h-[17px] w-auto object-contain"},p))}),e.jsx("div",{className:"absolute bottom-1 w-full px-2",onClick:l=>l.stopPropagation(),children:e.jsx("select",{value:h,onChange:l=>m(s.k,l.target.value),className:"w-full text-[10px] bg-white/60 border border-stone-200 rounded p-1 text-stone-600 focus:outline-none focus:border-amber-500 text-center text-ellipsis",children:R.map(l=>e.jsx("option",{value:l,children:l},l))})})]})},D=({year:s,selectedCell:c,roomAssignments:x})=>{if(!c)return e.jsxs("div",{className:"p-6 text-center text-stone-400 bg-stone-100 rounded-xl mt-4",children:[e.jsx(g,{size:32,className:"mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"é»žæ“Šä¹å®®æ ¼æŸ¥çœ‹è©³æƒ…"})]});const{p:r,s:t,k:m}=c,a=x[m];if(s&&s>2026){const v={é‡‘:"bg-gray-100",æœ¨:"bg-green-50",æ°´:"bg-blue-50",ç«:"bg-red-50",åœŸ:"bg-amber-50"},y={é‡‘:"bg-yellow-600",æœ¨:"bg-green-700",æ°´:"bg-blue-600",ç«:"bg-red-600",åœŸ:"bg-amber-700"};return e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border-t-4 border-stone-300 mt-4 overflow-hidden animation-fade-in",children:[e.jsx("div",{className:`${v[r.element]} p-3 border-b flex justify-between items-center`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("h3",{className:"font-bold text-lg text-stone-800 flex items-center gap-2",children:[e.jsxs("span",{children:[r.name,"ãƒ»",r.trigram,"(",r.element,")"]}),e.jsxs("span",{className:`px-2 py-0.5 rounded text-sm text-white ${y[t.element]}`,children:[t.name,"(",t.element,")"]})]}),a&&a!=="(æœªé¸æ“‡)"&&e.jsxs("span",{className:"text-sm font-bold text-stone-700",children:["(",a,")"]})]})}),e.jsx("div",{className:"p-8 text-center text-stone-500 font-bold",children:"è©³æƒ…ç¨å¾Œæ›´æ–°"})]})}const o=P(t.element,r.element),n=t.luckText||"æœªçŸ¥";let i="bg-stone-600 text-white";n.includes("å¤§å‰")?i="bg-red-600 text-white":n.includes("å°å‰")||n.includes("å‰")?i="bg-pink-500 text-white":n.includes("å¤§å‡¶")?i="bg-black text-white":n.includes("å‡¶")&&(i="bg-stone-500 text-white");const h=t.relationText||o.interaction,d=t.relationText?"":o.explanation,l=t.symbolism||t.desc,p=t.layout||t.cure,u=t.taboo||t.avoid,f=t.colorLike||"",N=t.colorDislike||"",j={é‡‘:"bg-gray-100",æœ¨:"bg-green-50",æ°´:"bg-blue-50",ç«:"bg-red-50",åœŸ:"bg-amber-50"},w={é‡‘:"bg-yellow-600",æœ¨:"bg-green-700",æ°´:"bg-blue-600",ç«:"bg-red-600",åœŸ:"bg-amber-700"};return e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border-t-4 border-amber-700 mt-4 overflow-hidden animation-fade-in",children:[e.jsxs("div",{className:`${j[r.element]} p-3 border-b flex justify-between items-center`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("h3",{className:"font-bold text-lg text-stone-800 flex items-center gap-2",children:[e.jsxs("span",{children:[r.name,"ãƒ»",r.trigram,"(",r.element,")"]}),e.jsxs("span",{className:`px-2 py-0.5 rounded text-sm text-white ${w[t.element]}`,children:[t.name,"(",t.element,")"]})]}),a&&a!=="(æœªé¸æ“‡)"&&e.jsxs("span",{className:"text-sm font-bold text-stone-700",children:["(",a,")"]})]}),e.jsx("span",{className:`text-sm font-bold px-3 py-1 rounded ${i}`,children:n})]}),e.jsxs("div",{className:"p-4 space-y-3 text-sm",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-20 font-bold text-stone-600 text-right",children:"å®®æ˜Ÿé—œä¿‚ï¼š"}),e.jsxs("div",{className:"flex-1 text-stone-800 font-bold",children:[h,d&&e.jsx("span",{className:"block text-xs font-normal text-stone-500",children:d})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-20 font-bold text-stone-600 text-right",children:"è±¡å¾µï¼š"}),e.jsx("div",{className:"flex-1 text-stone-800",children:l})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-20 font-bold text-stone-600 text-right",children:"ä½ˆå±€ï¼š"}),e.jsx("div",{className:"flex-1 text-stone-800",children:p})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-20 font-bold text-stone-600 text-right",children:"å¿Œæ”¾ï¼š"}),e.jsx("div",{className:"flex-1 text-stone-800",children:u})]}),e.jsx("div",{className:"flex gap-2 items-center pt-1 border-t border-stone-100 mt-1",children:e.jsxs("div",{className:"flex-1 flex items-center gap-2 bg-green-50 px-3 py-2 rounded-lg",children:[e.jsx("span",{role:"img","aria-label":"lucky",className:"text-lg",children:"ðŸ‘"}),e.jsx("span",{className:"font-bold text-stone-700",children:f})]})}),e.jsx("div",{className:"flex gap-2 items-center",children:e.jsxs("div",{className:"flex-1 flex items-center gap-2 bg-red-50 px-3 py-2 rounded-lg",children:[e.jsx("span",{role:"img","aria-label":"avoid",className:"text-lg",children:"ðŸ‘Ž"}),e.jsx("span",{className:"font-bold text-stone-700",children:N})]})})]})]})},I=[{year:2026,label:"2026å¹´ ä¸™åˆå¹´"},{year:2027,label:"2027å¹´ ä¸æœªå¹´"},{year:2028,label:"2028å¹´ æˆŠç”³å¹´"},{year:2029,label:"2029å¹´ å·±é…‰å¹´"},{year:2030,label:"2030å¹´ åºšæˆŒå¹´"}],X=({year:s,setYear:c,grid:x,afflictions:r,selectedCell:t,setSelectedCell:m,roomAssignments:a,handleRoomChange:o})=>e.jsxs("section",{className:"animation-fade-in",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 px-1",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(g,{className:"text-amber-500",size:24}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h2",{className:"text-xl font-bold text-ink tracking-wide",children:"æµå¹´ä¹å®®é£›æ˜Ÿå±€"}),e.jsx("span",{className:"text-[10px] text-stone-400 font-normal",children:"ä¸Šå—ä¸‹åŒ—"})]})]}),e.jsxs("div",{className:"relative inline-block w-40",children:[e.jsx("select",{value:s,onChange:n=>c(Number(n.target.value)),className:"w-full appearance-none bg-paper border border-stone-700 text-ink font-bold py-2 pl-3 pr-8 rounded-lg shadow-sm focus:outline-none focus:border-amber-600 text-sm tracking-wide cursor-pointer",children:I.map(n=>e.jsx("option",{value:n.year,children:n.label},n.year))}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-stone-400",children:e.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:x.map((n,i)=>e.jsx(q,{cell:n,afflictions:r,selectedCell:t,setSelectedCell:m,roomAssignments:a,handleRoomChange:o},i))}),e.jsx(D,{year:s,selectedCell:t,roomAssignments:a})]});export{X as default};
